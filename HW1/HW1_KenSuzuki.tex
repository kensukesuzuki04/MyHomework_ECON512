\documentclass[11pt,letter]{article}
%-------------------------
\usepackage{amsmath,amssymb}

\usepackage{amsthm}
\usepackage{mathrsfs}
\usepackage{bm}
\usepackage{ascmac} 
\usepackage{amsmath}
\usepackage{natbib} %
\usepackage{fancybox}
\usepackage{float}
\usepackage{booktabs} 
\usepackage{bm,xstring}
\usepackage{tabularx}
\usepackage{graphicx}
%\usepackage{mediabb}
\usepackage{lipsum}
\usepackage {pdfpages}
\usepackage{booktabs}
\usepackage{array}
\usepackage{paralist}
\usepackage{verbatim}
\usepackage{subfig} 
\usepackage{ascmac}
\usepackage{amsthm}
\usepackage{multirow}
\usepackage{amsmath}
\usepackage{natbib}
\usepackage{longtable}
\usepackage{hhline}
\usepackage{tabularx}
\usepackage{booktabs}
%\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage{here}
\usepackage{setspace}
\usepackage{color}
\usepackage{url}
\usepackage{xcolor}
%\usepackage{filecontents}
\usepackage{setspace}
\usepackage{fancyhdr}
\usepackage{titling}
\usepackage{titlesec}
\usepackage{sectsty}
\usepackage{listings}
\usepackage[many]{tcolorbox}
\usepackage[framemethod=TikZ]{mdframed}
\usepackage[dvipdfmx]{}
%\usepackage[dvipdfmx]{color}
\usepackage{epstopdf}
%\usepackage[dvipdfmx]{color}

\usepackage{bbm}
\usepackage{pdflscape}
\newcommand{\vect}[1]{\boldsymbol{\mathbf{#1}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Theorem
\newcounter{theo}[section] \setcounter{theo}{0}
\renewcommand{\thetheo}{\arabic{theo}}
\newenvironment{theo}[2][]{%
\refstepcounter{theo}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=gray!20]
{\strut Theorem~\thetheo};}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=gray!20]
{\strut Theorem~\thetheo:~#1};}}%
}%
\mdfsetup{innertopmargin=10pt,linecolor=gray!20,%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\end{mdframed}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Lemma
\newcounter{lem}[section] \setcounter{lem}{0}
\renewcommand{\thelem}{\arabic{section}.\arabic{lem}}
\newenvironment{lem}[2][]{%
\refstepcounter{lem}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=gray!50]
{\strut Lemma~\thelem};}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=gray!50]
{\strut Lemma~\thelem:~#1};}}%
}%
\mdfsetup{innertopmargin=10pt,linecolor=gray!50,%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\end{mdframed}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Assumption
\newcounter{asm}[section] \setcounter{asm}{0}
\renewcommand{\theasm}{\arabic{section}.\arabic{asm}}
\newenvironment{asm}[2][]{%
\refstepcounter{asm}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=gray!50]
{\strut Assumption~\theasm};}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=gray!50]
{\strut Assumption~\thelem:~#1};}}%
}%
\mdfsetup{innertopmargin=10pt,linecolor=gray!50,%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\end{mdframed}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Definition
\newcounter{defn}[section] \setcounter{defn}{0}
\renewcommand{\thedefn}{\arabic{section}.\arabic{defn}}
%\renewcommand{\thedefn}{\arabic{defn}}
\newenvironment{defn}[2][]{%
\refstepcounter{defn}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=gray!50]
{\strut Definition~\thedefn};}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=gray!50]
{\strut Definition~\thedefn:~#1};}}%
}%
\mdfsetup{innertopmargin=10pt,linecolor=gray!50,%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\end{mdframed}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Proof
\newcounter{prf}[section]\setcounter{prf}{0}
\renewcommand{\theprf}{\arabic{section}.\arabic{prf}}
\newenvironment{prf}[2][]{%
\refstepcounter{prf}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=gray!50]
{\strut Proof~\theprf};}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=gray!50]
{\strut Proof~\theprf:~#1};}}%
}%
\mdfsetup{innertopmargin=10pt,linecolor=gray!50,%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\qed\end{mdframed}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Note
\newcounter{notes}[section] \setcounter{notes}{0}
\renewcommand{\thenotes}{\arabic{notes}}
\newenvironment{notes}[2][]{%
\refstepcounter{notes}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=gray!50]
{\strut Note~\thenotes};}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=gray!50]
{\strut Note~\thenotes:~#1};}}%
}%
\mdfsetup{innertopmargin=10pt,linecolor=gray!50,%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\end{mdframed}}

\newtcolorbox{myboxi}[1][]{
  breakable,
  title=#1,
  colback=white,
  colbacktitle=white,
  coltitle=black,
  fonttitle=\bfseries,
  bottomrule=0pt,
  toprule=0pt,
  leftrule=3pt,
  rightrule=3pt,
  titlerule=0pt,
  arc=0pt,
  outer arc=0pt,
  colframe=black,
}


\usepackage{tgpagella}

\definecolor{mygreen}{RGB}{28,172,0} % color values Red, Green, Blue
\definecolor{mylilas}{RGB}{170,55,241}
\lstset{language=Matlab,%
    %basicstyle=\color{red},
    breaklines=true,%
    morekeywords={matlab2tikz},
    keywordstyle=\color{blue},%
    morekeywords=[2]{1}, keywordstyle=[2]{\color{black}},
    identifierstyle=\color{black},%
    stringstyle=\color{mylilas},
    commentstyle=\color{mygreen},%
    showstringspaces=false,%without this there will be a symbol in the places where there is a space
    numbers=left,%
    numberstyle={\tiny \color{black}},% size of the numbers
    numbersep=9pt, % this defines how far the numbers are from the text
    emph=[1]{for,end,break},emphstyle=[1]\color{red}, %some words to emphasise
    %emph=[2]{word1,word2}, emphstyle=[2]{style},    
}

%\usepackage[none]{hyphenat}
\usepackage{geometry}
\geometry{left=1in,right=1in, top=1in,bottom=1in}
\setlength\parindent{0pt}
%\renewcommand{\thesubsection}{(\alph{subsection})}
\usepackage{fancyhdr}
 

%\usepackage[shortlabels]{enumitem}
%                    \setlist[enumerate, 1]{1\textsuperscript{o}}


%--------------Shortcuts-----------
%Expectation
\newcommand{\Exp}[1]{\mathbb{E}\left[{#1}\right]}
\newcommand{\Var}[1]{\text{Var}\left[{#1}\right]}
\newcommand{\AsymVar}[1]{\text{AsymVar}\left[{#1}\right]}
\newcommand{\cov}[1]{\text{cov}\left[{#1}\right]}
\newcommand{\plim}[1]{\text{plim}\{{#1}\}}
\newcommand{\Ind}[1]{\mathbbm{1}\{{#1}\}}
\newcommand{\Prob}[1]{\text{Pr}\left({#1}\right)}
%hat
\newcommand{\h}[1]{\hat{#1}}
\newcommand{\thetahat}{\hat{\theta}}
\newcommand{\thetabar}{\overline{\theta}}
\newcommand{\gbar}{\overline{g}}
\newcommand{\psihat}{\hat{\psi}}

\newcommand{\vecty}{\vect{y}}

%upper and lower ber
\newcommand{\ob}[1]{\overline{#1}}
\newcommand{\ub}[1]{\underline{#1}}
\newcommand{\taubar}{\overline{\tau}}

%epsilon
\newcommand{\epsi}{\varepsilon}
\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;} 

\newcommand{\nonum}{\nonumber}

%ln()
\newcommand{\lnp}[1]{\ln\left({#1}\right)}

% parenthesis
\newcommand{\prn}[1]{\left({#1}\right)}
\newcommand{\mprn}[1]{\{{#1}\}}
\newcommand{\lmprn}[1]{\big\{{#1}\big\}}
\newcommand{\Lmprn}[1]{\Big\{{#1}\Big\}}
\newcommand{\llmprn}[1]{\biggl\{{#1}\biggr\}}
\newcommand{\LLmprn}[1]{\Biggl\{{#1}\Biggr\}}
\newcommand{\lprn}[1]{\left[{#1}\right]}

% cfrac
\newcommand{\cf}[2]{\cfrac{#1}{#2}}

% convergence in probability
\newcommand{\conp}{\xrightarrow{p}}
\newcommand{\cond}{\xrightarrow{d}}
\newcommand{\as}{\xrightarrow{a.s.}}

% Norm
\newcommand{\norm}[1]{\left\lVert{#1}\right\rVert}
\newcommand{\abs}[1]{\left\lvert{#1}\right\rvert}

\newcommand{\rootn}{\sqrt{n}}

\newcommand{\note}[1]{\ \ \ \ \text{#1}}

\newcommand{\ave}[1]{\frac{1}{#1}\sum_{i=1}^{#1}}

\newcommand{\half}{\cfrac{1}{2}}
\newcommand{\pihat}{\hat{\pi}}

\newcommand{\mbf}[1]{\mathbf{#1}}

\DeclareMathOperator*{\argmax}{argmax} 
\DeclareMathOperator*{\argmin}{argmin} 
\DeclareMathOperator*{\arginf}{arginf} 

\newcommand{\pmat}[1]{\begin{pmatrix} #1 \end{pmatrix}}%
\newcommand{\bmat}[1]{\begin{bmatrix} #1 \end{bmatrix}}%

\pagestyle{fancy}
\fancyhf{}
\chead{ECON512 Homework 1 -- Kensuke Suzuki}
\lhead{}
\rfoot{\thepage}

\allowdisplaybreaks
\setstretch{1}

\newtheorem{definition}{Definition}

\newtheorem{lemma}{Lemma}
\newtheorem{assumption}{Assumption}
\newtheorem{theorem}{Theorem}

\newcommand{\code}[1]{\texttt{#1}}

\bibliographystyle{aer} 

%----------------------------------------------------------------------------------------
%	TITLE SECTION
%----------------------------------------------------------------------------------------

\newcommand{\horrule}[1]{\rule{\linewidth}{#1}} % Create horizontal rule command with 1 argument of height

\title{	
\normalfont \normalsize 
\textsc{Penn State, Fall 2018, ECON512 Empirical Method} \\ [25pt] % Your university, school and/or department name(s)
\horrule{0.5pt} \\[0.4cm] % Thin top horizontal rule
\huge Homework 1 \\ % The assignment title
\horrule{2pt} \\[0.5cm] % Thick bottom horizontal rule
}

\author{Kensuke Suzuki} % Your name

\date{\normalsize\today} % Today's date or a custom date

\begin{document}

\maketitle % Print the title

%%%%%%%%%%%%%%%%%%%%%%
\section*{Problem 1}
Define $\vect{X} = \bmat{1,1.5,3,4,5,7,9,10}$ and construct the values of the function $Y1=-2*.5X$ and $Y2 = -2 + .5X^2$. I have

\begin{align*}
\vect{Y1} = \left[\begin{array}{cccccccc} -1.5 & -1.25 & -0.5 & 0 & 0.5 & 1.5 & 2.5 & 3.0 \end{array}\right]\\
\vect{Y2} = \left[\begin{array}{cccccccc} -1.5 & -0.875 & 2.5 & 6.0 & 10.5 & 22.5 & 38.5 & 48.0 \end{array}\right]
\end{align*}

Plot $Y1$ and $Y2$ against $X$ in a single graph

\begin{center}
\includegraphics[width=0.7\textwidth]{Problem1.png} 
\end{center}

%%%%%%%%%%%%%%%%%%%%%%
\section*{Problem 2}
I use \code{linspace} command to create a vector containing evenly-spaced numbers between $[-10,20]$. Fir summing elements of the vector, I use \code{sum( )} command. See the attached code.


%%%%%%%%%%%%%%%%%%%%%%
\section*{Problem 3}

For matrix algebra, I use ``\code{*}'' for matrix multiplication, use ``\code{`}'' for transpose, and use ``\code{inv( )}'' for getting inverse. 
\begin{align*}
\vect{C} = \vect{A}'\vect{b} = \left[\begin{array}{r} 29.0\\ 133.0\\ 43.0 \end{array}\right]\\
\vect{D} = \left[\begin{array}{r} -3.2505\\ 0.3961\\ 0.8037 \end{array}\right]
\end{align*}

To obtain ${E} =\sum_i \sum_j a_{ij} b_{i}$, I first calculate $\vect{E0} = \vect{A} \circ \prn{\vect{b}\bmat{1,1,1}}$ where $\circ$ is element-wise multiplication. Then I sum all elements in \vect{E0} by running \code{sum( )} twice, for summing over each column first and then for summing over raw.
\begin{align*}
&\vect{E0} = \left[\begin{array}{rrr} -4.0 & -8.0 & -12.0\\ 3.0 & 21.0 & 15.0\\ 30.0 & 120.0 & 40.0 \end{array}\right]\\
\Rightarrow &E = 205
\end{align*}

In creating $\vect{F}$, I firstly delete the 2nd row of $\vect{A}$ (defined as $\vect{F0}$) and then delete the 3rd column of $\vect{F0}$. 

\begin{align*}
\vect{F} = \left[\begin{array}{rr} 2.0 & 4.0\\ 3.0 & 12.0 \end{array}\right]
\end{align*}

In solving the system of linear equation $\vect{A}\vect{x} = \vect{b}$ for $\vect{x}$, calculate $\vect{x} = A^{-1}b$ where I use \code{inv(A)} to get inverse. 
\begin{align*}
\vect{x} = \left[\begin{array}{r} -0.1622\\ 1.2432\\ -1.1081 \end{array}\right]
\end{align*}

%%%%%%%%%%%%%%%%%%%%%%
\section*{Problem 4}
I use \code{blkdiag(A,A,A,A,A)} to create a $15\times15$ block diagonal matrix. 

%%%%%%%%%%%%%%%%%%%%%%
\section*{Problem 5}

In creating a matrix of random draws from a normal distribution with mean 10 and standard deviation 5, we use \code{normrnd(10,5,[5,3])}. For example
\begin{align*}
\vect{A} - \left[\begin{array}{rrr} 6.96 & 9.6 & 12.2\\ 6.31 & 14.5 & 10.5\\ 1.25 & 10.9 & 23.9\\ 14.6 & 11.5 & 4.17\\ 14.3 & 10.6 & 0.729 \end{array}\right]
\end{align*}

Then using loop, we check if each element of $\vect{A}$ is smaller than 10 or not. If it is smaller than 10, replace it with 0 and replace it with 1 otherwise. This yields

\begin{align*}
\vect{A} = \left[\begin{array}{rrr} 0 & 0 & 1\\ 0 & 1 & 1\\ 0 & 1 & 1\\ 1 & 1 & 0\\ 1 & 1 & 0 \end{array}\right]
\end{align*}

%%%%%%%%%%%%%%%%%%%%%%
\section*{Problem 6}

First we make $N\times 1$ vector of dependent variable (\vect{Y}), which is the 5th column of the dataset, where $N$ is the number of observation. We then creat $N\times 4$ matrix of independent variables (\vect{X}),  whose 1st column is ones, 2nd, 3rd and 4th columns are vectors of export dummy, R\&D dummy, and capital stock, respectively. 

By definition of OLS estimates, vector of coefficients $\hat{\vect{\beta}}=\bmat{\hat{\beta}_0,\hat{\beta}_1,\hat{\beta}_2,\hat{\beta}_3}$ can be computed by

\begin{align*}
\hat{\vect{\beta}} =\prn{\vect{X}'\vect{X}}^{-1}\vect{X}'\vect{Y} = \left[\begin{array}{r} 0.082\\ 0.120\\ 0.140\\ 0.030 \end{array}\right]
\end{align*}

To obtain the standard error, we first compute the vector of residual $\vect{e}$ as

\begin{align*}
\vect{e} = \vect{Y} - \vect{X}\hat{\vect{\beta}} 
\end{align*}

Then obtain the estimator for $\sigma^2$ (variance of the error)

\begin{align*}
\hat{\sigma} = \frac{\vect{e}'\vect{e}}{N-4}
\end{align*}

Variance-covariance matrix for the estimates are 


\begin{align*}
\vect{cov} = \hat{\sigma} (\vect{X}'\vect{X})^{-1}
\end{align*}

Square-root of the diagonal of $\vect{cov}$ is the standard errors for the estimates. To obtain the diagonal elements, we use \code{diag(cov)}. Standard errors are

\begin{align*}
\vect{stderr} = \left[\begin{array}{c} 0.0167\\ 0.0063\\ 0.0085\\ 0.0018 \end{array}\right]
\end{align*}


%%%%%%%%%%%%%%%%%%%%%%
\section*{Matlab Code}
\lstinputlisting{HW1.m}


\end{document}  



  